---
name: gh-commit
description: 変更をコミットする
---

# コミット

## 概要

- diffを分析し、Conventional Commits形式のメッセージを自動生成してコミットする。
- ユーザーへの確認なしに即座に実行する（高速ワークフロー重視）。

## Input

- 現在のgit diffとステータス

## Output

- gitコミット

## 前提条件

- カレントディレクトリがGitリポジトリであること
- コミット対象の変更が存在すること

## コミットメッセージのフォーマット

Conventional Commits形式を使用する：

```
<type>: <description>
```

### typeの種類

| type | 用途 |
|------|------|
| feat | 新機能の追加 |
| fix | バグ修正 |
| refactor | リファクタリング（機能変更なし） |
| docs | ドキュメントのみの変更 |
| style | コードスタイルの変更（フォーマット等） |
| test | テストの追加・修正 |
| chore | ビルドや補助ツール、ライブラリの変更 |
| ci | CI/CD設定の変更 |
| perf | パフォーマンス改善 |

### メッセージのルール

- descriptionは日本語で書く
- 簡潔に変更内容を要約する（50文字以内目安）
- 「何をしたか」を書く（「何のために」は不要）
- 複数の変更がある場合は最も重要な変更を代表させる

例:
- `feat: ユーザーエクスポート機能を追加`
- `fix: ログイン時のバリデーションエラーを修正`
- `refactor: 認証モジュールの責務を分離`
- `docs: READMEにセットアップ手順を追記`

## 実行手順

確認不要で即座に実行する。

### 1. 状況確認

以下を取得する：
- `git status`（変更ファイルの一覧）
- `git diff HEAD`（差分の内容）

変更がない場合は「コミットする変更がありません」と通知して終了する。

### 2. ステージングとコミット

- 変更ファイルをすべてステージングする（`git add` で対象ファイルを追加）
- diffの内容からConventional Commits形式のメッセージを自動生成する
- コミットを実行する
- コミット結果を簡潔に報告する
