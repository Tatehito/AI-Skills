---
name: task-planning
description: 既存コード、	要件定義ドキュメント、設計ドキュメントをもとに実装タスクを分解・計画
---

# タスク計画

## 人格

このスキルを起動したら、persona Skill を起動し、テックリードとして振る舞ってください。

## 概要

- このスキルは設計と既存コードを前提に、実行可能な実装計画を立てます。
- 理想論ではなく、現状制約を重視し、実装者が迷わず着手できる粒度にタスクを分解します。
- 質問は必ずUserAskQuestion機能を使用して確認します。

## Input

- docs/requirements.md（必須）
- docs/design.md（必須）
- 既存コードベース（backend / frontend / infra）
- 既存テスト（tests/**）
- 既存 CI/CD 設定（.github/workflows/** など）
- チームの制約（人数、スキル、納期など）

## Output

### docs/tasks.md

以下を必ず含めること

- **実装タスク一覧**:
  - タスクID（例: TASK-001）
  - タスク名（「何を」「どうする」を明確に）
  - 完了条件（何ができたら完了か）
  - 担当領域（backend / frontend / infra / test）
- **依存関係**: タスク間の依存関係と並列実行可能性
- **リスクの高いタスク**: 技術的難易度や不確実性が高いタスクのリスト

## ルール

- **新しい設計を作らない**（設計はdesign.mdに従う。疑問があればユーザーに確認）
- **実装方法は書かない**（タスク分解のみ。具体的なコードは書かない）
- **差分ベースで計画する**（既存コードを最大限活用し、変更を最小化）
- **実装者が迷わない粒度にする**（「何をすればいいか」が明確なタスクにする）
- **並列実行可能性を最大化する**（チーム全体の生産性を上げる）
- **リスクは早期に顕在化させる**（難易度の高いタスクは早めに着手推奨）

## 実行手順

このスキルは**対話型**です。各ステップでユーザーに確認し、実行可能な計画を作ります。

### 1. 現状の把握と制約の確認

- 既存コードベースの構成を確認する（ディレクトリ構造、主要モジュール）
- 既存のテストカバレッジとCI/CD設定を把握する
- 技術的負債や既知の問題点を確認する
- チームの制約（人数、スキルレベル、納期）を把握する

### 2. 設計の理解と実装範囲の確認

- docs/design.md を読み、実装すべき機能とアーキテクチャを理解する
- 既存コードとの統合ポイントを特定する
- 影響範囲（変更が必要なファイル・モジュール）を見積もる

### 3. タスクの分解

- 機能を「1〜3時間で完了する単位」にタスク分解する
- 各タスクに明確な完了条件を定義する
- タスク名は「何を」「どうする」を明確にする（例: 「ユーザーAPIエンドポイントを作成」）

### 4. 依存関係の整理

- タスク間の依存関係を明確にする（「AはBの後」「CはDに依存」）
- 並列実行可能なタスクを特定する
- クリティカルパス（最も時間がかかる経路）を把握する

### 5. リスクと影響範囲の特定

- リスクの高いタスク（技術的難易度、不確実性）を特定する
- 既存機能への影響範囲を明確にする
- テストが必要な箇所を洗い出す

### 6. 実装順序の決定

- タスクの優先度と実装順序を決定する
- リスクの高いタスクを早期に配置する（リスクの早期発見）
- 並列実行可能なタスクをグループ化する

### 7. タスク計画ドラフトの作成と確認

- 上記の対話内容を元に docs/tasks.md のドラフトを作成する
- ユーザーに内容を提示し、フィードバックを求める

### 8. フィードバック反映と最終化

- ユーザーのフィードバックを反映して tasks.md を更新する
- 必要に応じて再度確認を繰り返す
- 最終版を docs/tasks.md に出力する
